# App environment
APP_ENV=development

# Server
SERVER__HOST=127.0.0.1
SERVER__PORT=8080

# Postgres
DATABASE__URL=postgresql://app:app@127.0.0.1:5432/event_gateway
DATABASE__MAX_CONNECTIONS=10
DATABASE__CONNECT_TIMEOUT_SECONDS=5
DATABASE__RUN_MIGRATIONS=true

# Webhooks secrets (fallback for when tenant-specific secret is not in DB)
WEBHOOKS__GITHUB_SECRET=dev-github-secret
WEBHOOKS__GENERIC_HMAC_SECRET=dev-generic-secret
WEBHOOKS__STRIPE_ENDPOINT_SECRET=dev-stripe-secret
WEBHOOKS__STRIPE_SIGNATURE_TOLERANCE_SECONDS=300

# Tenant
TENANT__DEFAULT_ID=00000000-0000-0000-0000-000000000000

# Admin Auth (fallback only; DB keys are primary)
# Example:
# ADMIN__FALLBACK_API_KEYS_JSON=[{"key":"dev-admin-key","role":"admin"},{"key":"dev-operator-key","role":"operator"}]
ADMIN__FALLBACK_API_KEYS_JSON=

# Logging
LOG__FILTER=info,tower_http=info,sqlx=warn
LOG__JSON=false

# OpenTelemetry
# Set to false to disable OTLP exporter and context propagation layer.
OTEL__ENABLED=true
# OTLP/gRPC collector endpoint
OTEL__EXPORTER_OTLP_ENDPOINT=http://127.0.0.1:4317
OTEL__EXPORTER_OTLP_TIMEOUT_MS=3000

# Hardening
HARDENING__INGRESS_RATE_LIMIT_PER_SECOND=200
HARDENING__INGRESS_BURST=400
HARDENING__MAX_BODY_BYTES=262144
HARDENING__TENANT_RATE_LIMIT_PER_SECOND=100
HARDENING__TENANT_RATE_LIMIT_BURST=200
HARDENING__TENANT_DAILY_QUOTA=100000

AMQP_ADDR=amqp://guest:guest@127.0.0.1:5672/%2f
RABBIT_EXCHANGE=relayforge.events
RABBIT_DLX=relayforge.dlx
RABBIT_QUEUE=relayforge.jobs
RABBIT_RETRY_QUEUE=relayforge.jobs.retry
RABBIT_DLQ=relayforge.jobs.dlq
RABBIT_PREFETCH=50
RABBIT_RETRY_TTL_MS=5000
WORKER_MAX_ATTEMPTS=5
WORKER_MAX_CONCURRENCY=32
WORKER_MODE=both
WORKER_METRICS_ADDR=0.0.0.0:9091
